identity:
  name: local_chatflow_invoker
  author: yzddmr6
  label:
    en_US: Local Chatflow Invoker
    zh_Hans: 本地Chatflow调用
    pt_BR: Local Chatflow Invoker
description:
  human:
    en_US: Invoke any chatflow through Dify internal API
    zh_Hans: 通过内部接口，调用当前Dify实例下的Chatflow。
    pt_BR: Invoke any chatflow through Dify internal API
  llm: Invoke any chatflow through Dify internal API
parameters:
  - name: app_id
    type: string
    required: true
    label:
      en_US: App ID
      zh_Hans: APP ID
      pt_BR: App ID
    human_description:
      en_US: The app ID of the chatflow to call, can be obtained from the URL of the Chatflow page in Dify
      zh_Hans: 需要调用的Chatflow的APP ID，可以从Dify的Chatflow页面URL中获取
      pt_BR: The app ID of the chatflow to call, can be obtained from the URL of the Chatflow page in Dify
    llm_description: The app ID of the chatflow to call, can be obtained from the URL of the Chatflow page in Dify
    form: llm
  - name: query
    type: string
    required: true
    label:
      en_US: Query string
      zh_Hans: Prompt
      pt_BR: Query string
    human_description:
      en_US: The prompt to send to the chatflow
      zh_Hans: 要发送的Prompt
      pt_BR: The prompt to send to the chatflow
    llm_description: The prompt to send to the chatflow
    form: llm
  - name: inputs_json
    type: string
    required: false
    label:
      en_US: Inputs JSON
      zh_Hans: Inputs JSON
      pt_BR: Inputs JSON
    human_description:
      en_US: JSON string containing input parameters for the chatflow start node
      zh_Hans: Chatflow开始节点的输入参数，JSON字符串格式
      pt_BR: JSON string containing input parameters for the chatflow start node
    llm_description: JSON string containing input parameters for the chatflow start node
    form: llm
  - name: keep_conversation
    type: boolean
    required: true
    default: true
    label:
      en_US: Keep Conversation
      zh_Hans: Keep Conversation
      pt_BR: Keep Conversation
    human_description:
      en_US: Whether to keep the conversation context, to support memory function
      zh_Hans: 是否保持会话上下文，以支持记忆功能
      pt_BR: Whether to keep the conversation context, to support memory function
    llm_description: Whether to keep the conversation context, to support memory function
    form: llm

output_schema:
  type: object
  properties:
    stream_output:
      type: string
      description: The streaming output of the chatflow
extra:
  python:
    source: tools/local_chatflow_invoker.py
